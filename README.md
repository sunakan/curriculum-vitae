# 職務経歴書

## 基本情報

|key|value|
|---|-----|
|Name|sunakan|
|Lapras|[sunakan](https://lapras.com/public/ZQTTQGP)|
|GitHub|[sunakan](https://github.com/sunakan)|
|Scrapbox|[sunabako](https://scrapbox.io/sunabako/)|

## 強み

- 技術を学ぶことが好きで、日常的にキャッチアップをしています。
- 人に教えることが好きです。
  - 仲の良い人たちで、[Vagrantによる環境構築](https://github.com/sunakan/vagrant-tips)のハンズオンを開きました
  - モクモク会に参加した人が困っていたら積極的に教えるようにしています
- 1人でWebサイトの構築・運用・保守・改善の経験があり、フルスタックな経験があります。

## スキル

※実務経験があるスキルを列挙しています

### 言語

Ruby / Java / JavaScript / Bash / CoffeeScript / Groovy / C#

### フレームワークやライブラリ

#### バックエンド

Ruby on Rails / Grails / Sinatra / Padrino

#### フロントエンド

jQuery / d3.js / Bootstrap

#### モバイルアプリ

Unity

### その他

#### 全般

GitHub / Docker / Makefile

#### RDB/NoSQL

MySQL / SQLServer / Redis

#### ミドルウェア系

Solr / Fluentd / Nginx

#### DevOps・監視系

Jenkins / webistrano

#### クラウド

AWS ECS / AWS CloudFront / AWS S3 / Terraform

## 実務でやったことはないが興味があるもの

- Argo Workflowを使ったバッチ基盤の作成
- クラウドネイティブなCI/CD基盤の構築
- k8sの監視基盤の構築
- AWSマルチアカウント運用
- DDDでのチーム開発
- クリーンアーキテクチャを採用したチーム開発
- Elmによるフロントエンド開発
- Rust/Golangによるバックエンド開発

## 主な職務経歴

### 2020/10 - 2020/12 : 株式会社富士山マガジンサービス

職務： リードエンジニア

#### キャンペーンページの作成

- キャンペーンページから購入時したことがわかるためのロジックを追加
- キャンペーンページで購入した人を定期的に集計、メールで必要な部署へ送付

#### 技術スタック

- Grails
- Groovy
- Ruby
- Rails
- Javascript

#### 詳細

```
初めてのヒアリング時までに、聞いていた話を自分なりにまとめ図にして、共有しながら話を聞くことで、1回目の会議は濃くすすめられた。
システム側の認識とPO側の認識のズレを発見できたので、それを修正する案を出した。（Tkコードと大学名のマップがDBを前提にするか、実装速度優先でファイルでやるかどうか）
キックオフ時に開発に携わる人の役割をわかるようにした。（評価シートにも書きやすい＆認識のズレを減らすため）

事前にwikiに書いて、困った時見えるようにした。

メインで触るRailsがserviceとして定義しているAPIクライアント系のほとんどが返り値にHashie::Mashを使っており、ものすごく追いにくい。（どういう形のjsonかがcallしないとわからないことに加えて、しかも構造が動的だったりもする）
そしてちょくちょくエラーが握りつぶされてnilが返っていたり、空配列が返っていたりしていた。(過去の自分もやっていたかもしれない）
その状況を打破するべく、今回用意するAPIにはクライアント専用のエラーモデル、API用のクラスを別途作成した。例外処理も逐一投げるような処理にした。
また、関わるサブプロダクトの方のREADMEがゼロだったため、初めて触る人がすぐに開発に着手できるよう、READMEを記述した。
```

### 2020/10 - 2020/12 : 株式会社富士山マガジンサービス

職務： ソフトウェアエンジニア

#### 他社さんのWebサイトリプレイスとキャンペーンページ作成

- 複数の会社のAWSアカウントをまとめて1つのサービスとして表現するためのアーキテクチャ検討
- キャンペーンページのデプロイ環境作成
- 他社さんのプロダクトの開発環境作成

#### 技術スタック

- Docker
- Lightsail
- CloudFront
- ALB
- S3
- Terraform

#### 詳細

```
CloudFront専用のALBにする時のTipsは有益な情報としてPMから評価してもらった
別会社さんがかなりのボトルネックだったが、こちらでできることは可能な限り検証と手順書作成。
アーキテクチャ図を書いて、認識の共有（すり合わせ）を図った。
案１（CloudFront利用案）は事前にふんわりとしていたが、それが可能かどうかを検証をした。
その際に課題はそこそこ出たが、全て解決できた。
（「別会社さんがそもそもCloudFrontを利用を前提としている」「テスト・STG環境はIP制限を行っている」「本番はWAF付きであるが、大丈夫か？」等の後出しの情報にも素早く対応した）
また、今回の解決策を実施するにあたって、他の会社さんにしてほしいことをスクショ付きで手順書に落とし込み、提出した
案1が何かしらの理由でダメだった時のために、別の案（VPCピアリング利用）の検証も行っておいた（今のところ案1でうまくいきそう）

また、今回の件でやろうとしていることが割と特殊だと思ったので、自分が検証した内容と、今回この方法を採用する予定という事例を社内の雑談会で共有した。
```

### 2020/9 - 2020/10 : 株式会社富士山マガジンサービス

職務： アーキテクト

#### WordPressプロジェクトの基盤アーキテクチャの提案

- WordPressを使ったプロダクトのアーキテクチャの検討と見積もり

#### 技術スタック（実装までは至ってない）

- WordPress
- Fluentd
- Lightsail
- S3
- ALB
- Route53
- ECS
- CloudFront
- EC2
- Kinesis Data Firehose
- RDS
- EFS

#### 詳細

```
ヒアリングを行い、実際にサンプルを見てみると「行動履歴」を同期的にRDBに保存するような挙動になっていたので、技術的にもよりbetterでCPU負荷も下がって費用的にも抑えられる提案をした。
LightsailというAWSが提供するVPSの利用も積極的に考えたが、それを使ったときのデメリット等も共有できた（特にCPUバースト関連）

アーキテクチャ図を都度作成し、それを共有・プレゼンを結構な頻度で行い、PMに理解を少しずつしてもらった。
更に、AWSの見積もりの面倒くささやどうしたほうがいいのかという仮説も交えて社内で行った雑談会で調査結果を共有した。
```

### 2020/9 - 2020/10 : 株式会社富士山マガジンサービス

職務： ソフトウェアエンジニア

#### チームが持つプロジェクトのDocker化による開発環境構築DXを良くする

- Dockerfile記述時、チーム独自のルール策定
- docker buildして保存するまでのチーム独自のフローをテンプレート化

#### 技術スタック

- Docker
- Ruby
- Ruby on Rails
- Padrino
- Sinatra
- Grails
- Groovy
- Jenkins

#### 詳細

```
チーム目標を立てた時点では、「チームが持ってるプロジェクトをDocker化する」というだけで、どのようにするかは決まっていなかった。
それを実際に実行するにあたって、Teamで統一性を持たせるために決めるべき事項が多かった。
実際に組もうとしてみて、課題を洗い出し、共通化させた方が理解が速そうな部分を積極的に発言と提案をした。
また、仮に共通化したい場合だとこういう風リポジトリ構成をするのはどうか、説明だけではイメージしにくいだろうと思った（ピンとこないだろうなと思った）ので、実際にRubyだけでもリポジトリを作って、大変さやメンテしていくイメージも共有した。（https://github.com/sunakan/ruby-docker）
（チームで統一性を持たせたい理由：チームの中で個人個人が考えてそれぞれのベストプラクティスでやった場合、次の人が入ってきたとき困惑するだろうし、1つ1つの説明にも困る。属人化の排除にもつながる）
例：
「Dockerfileは何をBaseImageにするのか。debianか、チームで作るオリジナルか」
「ruby 2.4等で共通化したいなら、別途専用リポジトリを作るべきであるし、そうでないなら、特定のリポジトリで作ったbaseimageを他で使いまわさない等（どこで作られたかどうかわからなくなるため）」
「Dockerfile.development等複数ファイルにするのか、マルチステージングビルドにするのか」
「ステージングビルドの時のそれぞれのステージ名」
「既存のDockerfileはどうするのか」
「Jenkinsでのスクリプトはmake build && make xxxxとかにするなど、タスク名の統一等」
```

### 2020/7 - 2020/9 : 株式会社富士山マガジンサービス

職務： ソフトウェアエンジニア

#### バナー管理改修

- 商品ページのバナー管理の仕組みの改修
- 文言自体の変更と出し入れロジックの変更
- 出し入れロジックをモデルから剥がす

#### 技術スタック

- Ruby
- Ruby on Rails
- Docker(開発環境)

### 2020/3 - 2020/6 : 株式会社富士山マガジンサービス

職務： ソフトウェアエンジニア

#### カテゴリランキング改修

- 取得する商品情報のモデルの変更
- ビジネスロジックをモデルから剥がす

#### 技術スタック

- Ruby
- Ruby on Rails
- Docker(開発環境)

```
担当個所においては、かなり要件がふわふわしていた。
しかしさっと修正し、見てもらい、違和感があり修正したかったら修正していくというアジャイルらしい方法ですすめられた。
（○○の場合、△△の場合、とかなり条件分岐を考えた）
（その分、QAの方がテストをしにくそうだった）
```

### 2020/4 - 2020/7 : 株式会社富士山マガジンサービス

職務： ソフトウェアエンジニア

#### 他社さんが触るDBのやり取りするバッチの1つを改修

- 開発環境を整える
- 通知機能の作成
- CD環境を整える

#### 技術スタック

- Ruby
- ActiveRecord
- Docker(開発環境)
- Bash(Makefile)
- Jenkins

### 2020/1 - 2020/2 : 株式会社富士山マガジンサービス

職務： ソフトウェアエンジニア

#### ログ収集基盤のリプレイス

- CassandraからFluentd(ECS)へ

#### 技術スタック

- Fluentd
- ECS
- S3
- Athena
- Terraform
- Docker(開発・本番)

#### 詳細

```
ログの収集基盤をCassandraから、FluentdでS3に置くようにした。
初めてのECSでTerraformにもチャレンジして、積極的にキャッチアップを行い、会社のプロダクトのIaC化に貢献した。
```

### 2019/6 - 2020/1 : 株式会社富士山マガジンサービス

|項目|内容|
|:---|:---|
|プロジェクト|コンテンツ検索システムのリプレイス（途中まで）|
|概要|古いコンテンツ検索のシステムの冗長化やインデックスのフローの設計・開発|
|担当業務|アーキテクチャ設計、詳細設計、実装|
|技術スタック|Solr/Java/Docker/AWS SQS/digadag|
